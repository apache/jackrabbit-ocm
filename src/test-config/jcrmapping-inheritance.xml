<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE graffito-jcr PUBLIC "-//The Apache Software Foundation//DTD Repository//EN" "./src/dtd/graffito-jcr-mapping.dtd">
<graffito-jcr>    

     <!--  MAPPING USED TO TEST NODE TYPE PER HIERARCHY  -->
     
	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.Ancestor" jcrNodeType="nt:unstructured"  abstract="true" >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="ancestorField" jcrName="ancestorField" />
		<field-descriptor fieldName="discriminator" jcrName="discriminator" discriminator="true"  />
	</class-descriptor>

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.Descendant" jcrNodeType="nt:unstructured" 
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.Ancestor" >
		<field-descriptor fieldName="descendantField" jcrName="descendantField" />  
	</class-descriptor >

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.AnotherDescendant" jcrNodeType="nt:unstructured" 
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.Ancestor"  >                               
		<field-descriptor fieldName="anotherDescendantField" jcrName="anotherDescendantField" />  

	</class-descriptor>

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.SubDescendant" jcrNodeType="nt:unstructured" 
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.Descendant"  >                               
		<field-descriptor fieldName="subDescendantField" jcrName="subDescendantField" />  

	</class-descriptor>
	
     <!--  MAPPING USED TO TEST NODE TYPE PER CONCRETE CLASS  -->	

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.CmsObject" jcrNodeType="graffito:cmsobject"  abstract="true" >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="name" jcrName="graffito:name" />
		<!--  bean-descriptor  fieldName="parentFolder" 						 
						  converter="org.apache.portals.graffito.jcr.persistence.objectconverter.impl.ParentBeanConverterImpl" / -->

	</class-descriptor>     

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.Folder" jcrNodeType="graffito:folder" 
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.CmsObject" >
		<collection-descriptor fieldName="children" jcrName="graffito:children" proxy="false"
                                                   elementClassName="org.apache.portals.graffito.jcr.testmodel.inheritance.CmsObject" />
	                                   

	</class-descriptor >	

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.Content" jcrNodeType="graffito:content" abstract="true"
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.CmsObject" >
	</class-descriptor>	
		
	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.Document" jcrNodeType="graffito:document" 
	                                   extends="org.apache.portals.graffito.jcr.testmodel.inheritance.Content" >
		<field-descriptor fieldName="contentType" jcrName="graffito:contenttype" />  
		<field-descriptor fieldName="size" jcrName="graffito:size" />  	
		<bean-descriptor fieldName="documentStream" jcrName="graffito:documentstream"  />			
	</class-descriptor >	

	<class-descriptor className="org.apache.portals.graffito.jcr.testmodel.inheritance.DocumentStream" jcrNodeType="graffito:documentstream"  >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="encoding" jcrName="graffito:encoding" />
		<field-descriptor fieldName="content" jcrName="graffito:binarycontent" />
	</class-descriptor>     
	
</graffito-jcr>
 
 
 