<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE jackrabbit-ocm PUBLIC "-//The Apache Software Foundation//DTD Repository//EN" "./src/dtd/jackrabbit-ocm.dtd">
<jackrabbit-ocm>    

     <!-- INTERFACE MAPPING   -->	
     
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  interface="true" discriminator="false"
	                                   jcrType="ocm:cmsobject" />

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Folder"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  jcrType="ocm:folder" />

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Content"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  jcrType="ocm:content"  />
	                                   
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Document"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.Content"  jcrType="ocm:document"  />
	                                   
	                                   
	
     <!-- CLASS MAPPING. The FolderImpl has  the autoRetrieve, autoUpdate & autoInsert parameters set to false  -->	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" jcrType="ocm:cmsobjectimpl"  
	                                   discriminator="false" abstract="true" >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject" />	  	                                    
		
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="name" jcrName="ocm:name"  id="true" />
		<bean-descriptor  fieldName="parentFolder"  					 
						  converter="org.apache.jackrabbit.ocm.manager.beanconverter.impl.ParentBeanConverterImpl" />

	</class-descriptor>     

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.FolderImpl" jcrType="ocm:folderimpl" 
	                                    extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" discriminator="false"  >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Folder" />	  		                                    
		<collection-descriptor fieldName="children" proxy="true" autoUpdate="false" autoInsert="false" autoRetrieve="false" 
		                       elementClassName="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" 
		                       collectionConverter="org.apache.jackrabbit.ocm.manager.collectionconverter.impl.NTCollectionConverterImpl" />
	</class-descriptor >	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.ContentImpl" jcrType="ocm:contentimpl" abstract="true"
	                                   extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" discriminator="false"  >
       		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Content" />	  		                                    
	</class-descriptor>	
		
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.DocumentImpl" jcrType="ocm:documentimpl" 
	                                    extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.ContentImpl" discriminator="false" >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Document" />	  		                                    	                                    
		<field-descriptor fieldName="contentType" jcrName="ocm:contenttype" />  
		<field-descriptor fieldName="size" jcrName="ocm:size" />  	
		<bean-descriptor fieldName="documentStream" jcrName="ocm:documentstream"  autoUpdate="false" autoInsert="false" autoRetrieve="false"  />			
	</class-descriptor >	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.DocumentStream" jcrType="ocm:documentstream"  discriminator="false"  >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="encoding" jcrName="ocm:encoding" />
		<field-descriptor fieldName="content" jcrName="ocm:binarycontent" />
	</class-descriptor>     
	
</jackrabbit-ocm>
 
 
 
