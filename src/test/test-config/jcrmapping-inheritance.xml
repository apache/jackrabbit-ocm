<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE jackrabbit-ocm PUBLIC "-//The Apache Software Foundation//DTD Repository//EN" "./src/dtd/jackrabbit-ocm.dtd">
<jackrabbit-ocm>    

     <!--MAPPING USED TO TEST INTERFACES WITHOUT NODE TYPE   -->	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Interface"  interface="true"  />
	
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.AnotherInterface"  interface="true" />

     
     <!--MAPPING USED TO TEST INTERFACES WITH NODE TYPE   -->	
     
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  interface="true" discriminator="false"
	                                   jcrNodeType="ocm:cmsobject" />

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Folder"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  jcrNodeType="ocm:folder" />

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Content"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject"  jcrNodeType="ocm:content"  />
	                                   
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.interfaces.Document"  interface="true" discriminator="false" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.interfaces.Content"  jcrNodeType="ocm:document"  />
	                                   
	                                   
     <!--  MAPPING USED TO TEST NODE TYPE PER HIERARCHY  -->	
     
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.Ancestor"  abstract="true" >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="ancestorField" jcrName="ancestorField" />
	</class-descriptor>

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.Descendant" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.inheritance.Ancestor">
	    <implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.AnotherInterface" />
	    	    
		<field-descriptor fieldName="descendantField" jcrName="descendantField" />  
		<field-descriptor fieldName="intField" jcrName="intField" />  
	</class-descriptor >

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.AnotherDescendant" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.inheritance.Ancestor"  >
	    <implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Interface" />	                                   
		<field-descriptor fieldName="anotherDescendantField" jcrName="anotherDescendantField" />  

	</class-descriptor>

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.SubDescendant" 
	                                   extend="org.apache.jackrabbit.ocm.testmodel.inheritance.Descendant"  >                               
		<field-descriptor fieldName="subDescendantField" jcrName="subDescendantField" />  

	</class-descriptor>
	
     <!--  MAPPING USED TO TEST NODE TYPE PER CONCRETE CLASS  -->	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" jcrNodeType="ocm:cmsobjectimpl"  
	                                   discriminator="false" abstract="true" >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.CmsObject" />	  	                                    
		
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="name" jcrName="ocm:name"  id="true" />
		<bean-descriptor  fieldName="parentFolder"  					 
						  converter="org.apache.jackrabbit.ocm.persistence.beanconverter.impl.ParentBeanConverterImpl" />

	</class-descriptor>     

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.FolderImpl" jcrNodeType="ocm:folderimpl" 
	                                    extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" discriminator="false"  >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Folder" />	  		                                    
		<collection-descriptor fieldName="children" proxy="true" autoUpdate="false" 
		                       elementClassName="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" 
		                       collectionConverter="org.apache.jackrabbit.ocm.persistence.collectionconverter.impl.NTCollectionConverterImpl" />
	</class-descriptor >	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.ContentImpl" jcrNodeType="ocm:contentimpl" abstract="true"
	                                   extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.CmsObjectImpl" discriminator="false"  >
       		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Content" />	  		                                    
	</class-descriptor>	
		
	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.DocumentImpl" jcrNodeType="ocm:documentimpl" 
	                                    extend="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.ContentImpl" discriminator="false" >
		<implement-descriptor interfaceName="org.apache.jackrabbit.ocm.testmodel.interfaces.Document" />	  		                                    	                                    
		<field-descriptor fieldName="contentType" jcrName="ocm:contenttype" />  
		<field-descriptor fieldName="size" jcrName="ocm:size" />  	
		<bean-descriptor fieldName="documentStream" jcrName="ocm:documentstream" proxy="true"  />			
	</class-descriptor >	

	<class-descriptor className="org.apache.jackrabbit.ocm.testmodel.inheritance.impl.DocumentStream" jcrNodeType="ocm:documentstream"  discriminator="false"  >
		<field-descriptor fieldName="path" path="true" />
		<field-descriptor fieldName="encoding" jcrName="ocm:encoding" />
		<field-descriptor fieldName="content" jcrName="ocm:binarycontent" />
	</class-descriptor>     
	
</jackrabbit-ocm>
 
 
 
